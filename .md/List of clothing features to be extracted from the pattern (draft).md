# パターンから抽出する衣服フィーチャー一覧（ドラフト）

このファイルは、FreeSewing などで生成された型紙（SVG / DXF 等）から  
**数値として抽出したい衣服フィーチャー（features）の候補リスト**です。

- 将来の機械学習用ラベル
- パターン検証・比較・検索のための共通言語

として使うことを想定しています。

---

## 1. 全体寸法（Overall Dimensions）

衣服全体の「出来上がり寸法」に相当するフィーチャー群です。

| feature 名                 | 意味・定義                                                       | 抽出の考え方（概要）                                                     |
| -------------------------- | ---------------------------------------------------------------- | ------------------------------------------------------------------------ |
| `front_length_mm`          | 前身頃の肩（HPS 付近）から前中心裾までの長さ。いわゆる「前丈」。 | 前身頃パーツの「肩付け点」と「前中心裾端」の座標を取り、その距離を測る。 |
| `back_length_mm`           | 後身頃の肩（HPS 付近）から後中心裾までの長さ。「後丈」。         | 後身頃パーツの「肩付け点」と「後中心裾端」の座標を取り、その距離を測る。 |
| `shoulder_width_mm`        | 肩幅。左右肩先（肩線とアームホールの交点）の水平距離。           | 後身頃の左右肩先の座標を取り、直線距離（ほぼ水平）を測る。               |
| `chest_circumference_mm`   | 仕上がり胸囲。バストラインでの前身頃幅＋後身頃幅の合計。         | バスト高さライン上で、前後身頃の「中心〜脇」幅を測り、左右分を合計する。 |
| `waist_circumference_mm`   | 仕上がりウエスト。ウエストラインでの前後身頃幅の合計。           | ウエスト高さライン上で前後身頃幅を測り、合計する。                       |
| `hip_circumference_mm`     | 仕上がりヒップ（または腰回りに近いライン）の周囲長。             | ヒップライン上で前後身頃幅を測り、合計する。                             |
| `hem_circumference_mm`     | 裾まわり。前身頃裾幅＋後身頃裾幅。                               | 前身頃・後身頃それぞれの裾の水平幅を測り、合計する。                     |
| `sleeve_length_mm`         | 袖丈。肩付け点〜袖口端までの長さ。                               | 袖パーツの「肩付け点」と「袖口端」の座標を取り、その距離を測る。         |
| `shoulder_slope_angle_deg` | 肩線の傾斜角。肩線が水平からどれくらい下がっているか。           | 肩線の両端座標から角度（傾き）を算出する。                               |

---

## 2. パーツ寸法（Part-wise Dimensions）

身頃・袖・襟など、パーツ単位での寸法を表すフィーチャー群です。

| feature 名                      | 意味・定義                                             | 抽出の考え方（概要）                                                       |
| ------------------------------- | ------------------------------------------------------ | -------------------------------------------------------------------------- |
| `front_bust_width_mm`           | 前身頃のバストラインでの幅（片側）。前中心〜脇下まで。 | 前身頃パーツのバスト高さで、前中心点から脇点までの水平距離を測る。         |
| `front_waist_width_mm`          | 前身頃ウエストラインでの幅（片側）。前中心〜脇下まで。 | ウエスト高さで、前中心点から脇点までの水平距離を測る。                     |
| `front_hem_width_mm`            | 前身頃裾幅（片側）。前中心〜脇下まで。                 | 裾ライン上で、前中心点から脇点までの水平距離を測る。                       |
| `front_shoulder_seam_mm`        | 前身頃肩線の長さ。襟ぐり〜肩先まで。                   | 前身頃肩線のパス長（または両端点間距離）を測る。                           |
| `back_bust_width_mm`            | 後身頃バストラインでの幅（片側）。後中心〜脇下まで。   | バスト高さで、後中心点から脇点までの水平距離を測る。                       |
| `back_waist_width_mm`           | 後身頃ウエストラインでの幅（片側）。                   | ウエスト高さで、後中心点から脇点までの水平距離を測る。                     |
| `back_hem_width_mm`             | 後身頃裾幅（片側）。後中心〜脇下まで。                 | 裾ライン上で、後中心点から脇点までの水平距離を測る。                       |
| `back_shoulder_seam_mm`         | 後身頃肩線の長さ。襟ぐり〜肩先まで。                   | 後身頃肩線のパス長（または両端点間距離）を測る。                           |
| `sleeve_bicep_width_mm`         | 袖の上腕（バイセップ）部分の幅。                       | 肩付けから一定距離下の高さをバイセップラインとし、そのライン上の幅を測る。 |
| `sleeve_wrist_circumference_mm` | 袖口まわり。袖口端の周長（もしくは片側袖口幅 ×2）。    | 袖口端のパス長を測る、または袖口左右端点の距離 ×2。                        |
| `sleeve_cap_height_mm`          | 袖山高さ。袖山頂点〜バイセップラインまでの高さ。       | 袖山頂点とバイセップ基準ラインの垂直距離を測る。                           |
| `sleeve_cap_angle_deg`          | 袖山頂点の開き具合。袖山頂点と左右端点で作られる角度。 | 袖山頂点・左右端点の座標から角度を算出する。                               |
| `collar_length_mm`              | 襟の「首まわり側」の長さ。襟つけ側のパス長。           | 襟パーツの内側（ネック側）エッジのパス長を測る。                           |
| `collar_width_mm`               | 襟の幅（高さ）。首側エッジ〜外側エッジまでの平均距離。 | 襟パーツの内外エッジ間の距離をサンプリングし、平均値を取る。               |

---

## 3. 形状的特徴（Shape Features）

数値＋カテゴリ（離散ラベル）で、「設計のクセ」や「デザインの特徴」を表すフィーチャー群です。

| feature 名             | 意味・定義                                                         | 抽出の考え方（概要）                                          |
| ---------------------- | ------------------------------------------------------------------ | ------------------------------------------------------------- |
| `front_dart_count`     | 前身頃に存在するダーツ本数。                                       | ダーツ用に収束する 2 本線＋頂点を検出し、その組の数を数える。 |
| `back_dart_count`      | 後身頃に存在するダーツ本数。                                       | 同上。                                                        |
| `front_dart_length_mm` | 前身頃ダーツの長さ（ダーツ頂点〜底辺中心）。                       | ダーツ頂点座標と底辺中心座標から距離を測る。                  |
| `back_dart_length_mm`  | 後身頃ダーツの長さ。                                               | 同上。                                                        |
| `neckline_type`        | ネックライン種別（クルーネック／V ネック／シャツカラー付きなど）。 | 襟ぐりパスの形状＋襟パーツの有無からルールベースで分類する。  |
| `sleeve_style`         | 袖の種類（セットイン／ラグラン／ドルマンなど）。                   | 身頃・袖パーツの構成とアームホール形状のつながり方から分類。  |
| `shoulder_drop_mm`     | 肩の落ち具合。首元点と肩先点の高さ差。                             | 襟ぐり付近の点と肩先点の垂直座標差を測る。                    |
| `hem_shape`            | 裾形状のタイプ（ストレート／ラウンド／前上がり／後下がりなど）。   | 裾ラインの曲率や、前後裾丈の差分からルールベースで分類する。  |

---

## 4. 実装・運用のイメージ（簡単メモ）

- **第一段階（MVP）**

  - 上記のうち、まずは **全体寸法から 5〜6 項目程度** をターゲットにする。
    - 例：`front_length_mm`, `back_length_mm`, `shoulder_width_mm`, `chest_circumference_mm`, `hem_circumference_mm`, `sleeve_length_mm`
  - `SampleMeta` の JSON に以下のようなブロックを追加していく：

    ```json
    "features": {
      "garment_measures": {
        "front_length_mm": 710,
        "back_length_mm": 735,
        "shoulder_width_mm": 460,
        "chest_circumference_mm": 1120,
        "hem_circumference_mm": 1140,
        "sleeve_length_mm": 610
      }
    }
    ```

- **第二段階**

  - SVG 解析ツール（例：`extractGarmentMeasuresFromSvg.ts`）を用意し、
    - 型紙 SVG → 座標解析 → 上記 features を自動計算
  - まずは Simon（シャツ）専用に実装し、その後ジャケット・コート・パンツなどに拡張。

- **長期的なゴール**

  - BodyMaster / BodyShapeMaster（ヌード寸法・骨格）と、
  - Pattern（FreeSewing SVG / DXF）と、
  - この Features（前丈・後丈・裾回り・ダーツなど）

  をセットで持つことで、

  - 「この体型＋骨格だと、どんな仕上がり寸法が最適か？」
  - 「どのパターン設計が、どんな着心地傾向を生むか？」

  を **数値ベースで学習・分析できる土台**にする。

---
